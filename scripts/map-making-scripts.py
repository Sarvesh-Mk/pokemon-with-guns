import random
import sys

class mapGeneration:

    def __init__(self, rows, columns, filename):
        self.rows = int(rows)
        self.columns = int(columns)
        self.filename = filename
        self.f = open("{}".format(self.filename), "w+")
        self.playerpos = (self.columns/2, self.rows/2)
        self.map_arr = ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.',
           'E', '.', 'E', '.', 'E', '.', 'E', 'E', 'E', 'E', '.', '.', '.',
           '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
           '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
           '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
           '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
           '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
           '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
           '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
           '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
           '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1', '1',
           '1', '1', '.', '.', '1', '.', '.', 'E', '.', 'E', '1', '.', '.',
           '1',  '.', '.',  '1', '.',  '.', '1',  '.', 'C', ]


    def generate(self):
        i = 0
        map = []
        while i in range(0,self.rows):
            if i == 0:
                for k in range(0, self.columns):
                    self.f.write("1")
            elif i == self.columns-1:
                for l in range(0, self.columns):
                    self.f.write("1")
            else:
                for j in range(0, self.columns):
                    check = (i,j)
                    if j == 0:
                        self.f.write("1")
                    elif j == self.columns-1:
                        self.f.write("1")
                    elif check == self.playerpos:
                        self.f.write('P')
                    else:
                        x = random.randint(0,len(self.map_arr)-1)
                        self.f.write(self.map_arr[x])
            i = i+1
            self.f.write("\n")

m = mapGeneration(input("Enter the number of self.rows: "),input("Enter the number of self.columns: "),input('filename: '))
m.generate()